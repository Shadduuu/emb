// index.jsp
<body>
        <div>Database Connectivity</div>
        <form action="StudentDataServlet" method="post">
            Student Roll No :<input type="text" name ="txtRoll" /><br>
            Student Name : <input type="text" name="txtName"/><br>
            Class : <input type ="text" name="txtClass"/><br>
            <input type="submit" name="submit" value="Click to Insert"/>
        </form>
    </body>

//StudenServlet.java

public class StudentDataServlet extends HttpServlet {

    protected void processRequest(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException, SQLException, ClassNotFoundException {
        response.setContentType("text/html;charset=UTF-8");
        try (PrintWriter out = response.getWriter()) {
            /* TODO output your page here. You may use following sample code. */
            out.println("<!DOCTYPE html>");
            out.println("<html>");
            out.println("<head>");
            out.println("<title>Servlet StudentDataServlet</title>");            
            out.println("</head>");
            out.println("<body>");
            out.println("<h1>Servlet StudentDataServlet at " + request.getContextPath() + "</h1>");
            
            out.println("<p>Servlet called</p>");

            Class.forName("com.mysql.jdbc.Driver");
            Connection con = (Connection) DriverManager.getConnection("jdbc:mysql://localhost:3307/rjcit","root","mysql");
            out.println("<p>connection established</p>");
            Statement st = (Statement)con.createStatement();
           
            int rollno = Integer.parseInt(request.getParameter("txtRoll"));
            String studentName = request.getParameter("txtName");
            String studentClass = request.getParameter("txtClass");
            
            String sqlQuery = "Insert into student values(" + rollno + ", '" + studentName + "', '" + studentClass + "')";
            out.println(sqlQuery);
            st.executeUpdate(sqlQuery);

            
            out.println("<form action ='ShowStudent' method = 'post'>");
            out.println("<input type = 'submit' value = 'fetch details'/>");
            out.println("</form>");

            out.println("</body>");
            out.println("</html>");
            
            
            
        }
    }

// ShowStudent.java

public class ShowStudent extends HttpServlet {

    protected void processRequest(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException, ClassNotFoundException, SQLException {
        response.setContentType("text/html;charset=UTF-8");
        try (PrintWriter out = response.getWriter()) {
    
            out.println("<!DOCTYPE html>");
            out.println("<html>");
            out.println("<head>");
            out.println("<title>Servlet ShowStudent</title>");
            out.println("</head>");
            out.println("<body>");
            out.println("<h1>Servlet ShowStudent at " + request.getContextPath() + "</h1>");

            Class.forName("com.mysql.jdbc.Driver");
            Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3307/rjcit", "root", "mysql");
            Statement st1 = (Statement) con.createStatement();
            String qry = "Select * from student";
            ResultSet rs1 = st1.executeQuery(qry);
            out.println("<h1>Student Data</h1>");
            out.println("<table border = '1' bgcolor = 'grey'>");
            out.println("<tr>");
            out.println("<td><b>Roll No</b></td>");
            out.println("<td><b>Name</b></td>");
            out.println("<td><b>Class</b></td>");
            out.println("</tr>");

            while (rs1.next()) {
                out.println("<tr>");
                out.println("<td>" + rs1.getInt("roll_no") + "</td>");
                out.println("<td>" + rs1.getString("name") + "</td>");
                out.println("<td>" + rs1.getString("class") + "</td>");
                out.println("</tr>");
            }
            out.println("</table>");
            out.println("</body>");
            out.println("</html>");

        }
    }
